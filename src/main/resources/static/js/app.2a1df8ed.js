(function(e){function t(t){for(var o,i,l=t[0],s=t[1],c=t[2],m=0,p=[];m<l.length;m++)i=l[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("85ec"),a=n.n(o);a.a},"06e8":function(e,t,n){},"2c25":function(e,t,n){e.exports=n.p+"img/imall.94524cb6.png"},"4d93":function(e,t,n){"use strict";var o=n("7d51"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=n("5c96"),r=n.n(a),i=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),l=[],s=(n("034f"),n("2877")),c={},u=Object(s["a"])(c,i,l,!1,null,null,null),m=u.exports,p=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,rules:e.rules}},[n("div",{staticClass:"title-h3"},[n("h3",[e._v("系统登录")]),n("br")]),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{"prefix-icon":"iconfont icon-user",placeholder:"帐号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{"prefix-icon":"iconfont icon-pswd",placeholder:"密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("登录")])],1)],1)],1)},f=[],g=(n("d3b7"),n("bc3a")),h=n.n(g),v=h.a.create({timeout:5e3});v.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),v.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var b=v;function y(e,t){return b({url:"/user/login",method:"post",data:{username:e,password:t}})}function _(e){return b({url:"/user/info/".concat(e),method:"get"})}var x={data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"请输入帐号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},components:{},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e?y(t.form.username,t.form.password).then((function(e){var n=e.data;console.log(n),console.log(n.data,n.data.token),n.flag?_(n.data.token).then((function(e){var o=e.data;console.log(o),console.log(o.data),localStorage.setItem("imall-user",JSON.stringify(o.data)),localStorage.setItem("imall-token",n.data.token),t.$router.push("/"),t.$message({showClose:!1,message:"登录成功",type:"success",duration:1e3})})):t.$message({showClose:!1,message:"验证失败",type:"warning",duration:1e3})})):console.log("登录失败")}))}}},w=x,j=(n("c35d"),Object(s["a"])(w,d,f,!1,null,"ceae8ade",null)),k=j.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("app-header"),n("app-navbar"),n("app-main")],1)},C=[],$=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-header",[o("a",{attrs:{href:"/"}},[o("img",{staticClass:"logo",attrs:{src:n("2c25"),width:"32px"}}),o("span",{staticClass:"logo-name"},[e._v("imall 微商城后台")])]),o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[e._v(" 下拉菜单 "),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[o("i",{staticClass:"el-icon-unlock"}),e._v(" 修改密码 ")]),o("el-dropdown-item",[o("i",{staticClass:"el-icon-switch-button",staticStyle:{color:"red"}}),e._v(" 退出 ")])],1)],1)],1)},F=[],S=(n("61a2"),{}),P=Object(s["a"])(S,$,F,!1,null,"7809979a",null),M=P.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar"},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"default-active":e.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#409EFF"}},[n("el-submenu",{attrs:{index:"/goods/"}},[n("template",{slot:"title"},[n("i",{staticClass:"iconfont icon-goods"}),n("span",[e._v("商品管理")])]),n("el-menu-item",{attrs:{index:"/goods/"}},[n("i",{staticClass:"iconfont icon-list"}),n("span",[e._v("商品列表")])]),n("el-menu-item",{attrs:{index:"1-2"}},[n("i",{staticClass:"iconfont icon-list"}),n("span",[e._v("商品分类")])])],2),n("el-menu-item",{attrs:{index:"/order/"}},[n("i",{staticClass:"iconfont icon-orders"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("订单管理")])]),n("el-menu-item",{attrs:{index:"/user/"}},[n("i",{staticClass:"iconfont icon-users"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),n("el-menu-item",{attrs:{index:"/authority/"}},[n("i",{staticClass:"iconfont icon-authority"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("权限管理")])]),n("el-menu-item",{attrs:{index:"/statistics/"}},[n("i",{staticClass:"iconfont icon-statistics"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("数据统计")])]),n("el-menu-item",{attrs:{index:"/monitor/"}},[n("i",{staticClass:"iconfont icon-monitor"}),n("a",{attrs:{href:"http://localhost/druid",target:"blank"}},[e._v("访问监控")])])],1)],1)},E=[],D=(n("4d93"),{}),N=Object(s["a"])(D,T,E,!1,null,"06e21e93",null),q=N.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-main",[n("router-view")],1)},I=[],V={components:{}},z=V,A=Object(s["a"])(z,B,I,!1,null,null,null),J=A.exports,L={components:{AppHeader:M,AppNavbar:q,AppMain:J}},G=L,H=(n("d3f6"),Object(s["a"])(G,O,C,!1,null,"6458d346",null)),K=H.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchMap}},[n("el-form-item",{attrs:{prop:"gName"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"商品名称"},model:{value:e.searchMap.gName,callback:function(t){e.$set(e.searchMap,"gName",t)},expression:"searchMap.gName"}})],1),n("el-form-item",{attrs:{prop:"gType"}},[n("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"商品类型"},model:{value:e.searchMap.gType,callback:function(t){e.$set(e.searchMap,"gType",t)},expression:"searchMap.gType"}},e._l(e.typeOptions,(function(e){return n("el-option",{key:e.idx,attrs:{label:e.name,value:e.name}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[n("i",{staticClass:"el-icon-search"}),n("span",[e._v("搜索")])])],1),n("el-form-item",[n("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v("清空")])],1),n("el-form-item",{staticClass:"btnAdd"},[n("el-button",{attrs:{type:"primary",circle:""},on:{click:e.handleAdd}},[n("i",{staticClass:"el-icon-plus"})])],1)],1),n("el-dialog",{attrs:{visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"pojoForm",staticStyle:{width:"400px"},attrs:{model:e.pojo,"label-width":"100px","label-position":"right",rules:e.rules}},[n("el-form-item",{attrs:{label:"商品名称",prop:"gName"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.pojo.gName,callback:function(t){e.$set(e.pojo,"gName",t)},expression:"pojo.gName"}})],1),n("el-form-item",{attrs:{label:"定价(元)",prop:"gPrice"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.pojo.gPrice,callback:function(t){e.$set(e.pojo,"gPrice",t)},expression:"pojo.gPrice"}})],1),n("el-form-item",{attrs:{label:"库存量(件)",prop:"gStock"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.pojo.gStock,callback:function(t){e.$set(e.pojo,"gStock",t)},expression:"pojo.gStock"}})],1),n("el-form-item",{attrs:{label:"商品类型",prop:"gType"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.pojo.gType,callback:function(t){e.$set(e.pojo,"gType",t)},expression:"pojo.gType"}},e._l(e.typeOptions,(function(e){return n("el-option",{key:e.idx,attrs:{label:e.name,value:e.name}})})),1)],1),n("el-form-item",{attrs:{label:"产地",prop:"gOrigin"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.pojo.gOrigin,callback:function(t){e.$set(e.pojo,"gOrigin",t)},expression:"pojo.gOrigin"}},e._l(e.originOptions,(function(e){return n("el-option",{key:e.num,attrs:{label:e.name,value:e.name}})})),1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){null===e.pojo.id?e.addData("pojoForm"):e.updateData("pojoForm")}}},[e._v("确定")])],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,size:"mini",border:"","highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"id",label:"#",width:"50"}}),n("el-table-column",{attrs:{prop:"gName",label:"商品名称",width:"380"}}),n("el-table-column",{attrs:{prop:"gPrice",label:"定价",width:"100",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("priceFilter")(t.row.gPrice)))])]}}])}),n("el-table-column",{attrs:{prop:"gStock",label:"库存量(件)",width:"110",sortable:""}}),n("el-table-column",{attrs:{prop:"gType",label:"商品类型",width:"130"}}),n("el-table-column",{attrs:{prop:"gOrigin",label:"产地",width:"80"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.handleEdit(t.row.id)}}},[n("i",{staticClass:"el-icon-edit-outline"}),n("span",[e._v("编辑")])]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.row.id)}}},[n("i",{staticClass:"el-icon-delete"}),n("span",[e._v("删除")])])]}}])})],1),n("el-pagination",{attrs:{"current-page":e.currentPage,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},R=[],U=(n("ac1f"),n("841c"),{getList:function(e){return b({url:"/goods/".concat(e),method:"get"})},search:function(e,t){return b({url:"/goods/search/".concat(t),method:"post",data:e})},add:function(e){return b({url:"/goods",method:"post",data:e})},getById:function(e){return b({url:"/goods/single/".concat(e),method:"get"})},update:function(e){return b({url:"/goods",method:"put",data:e})},deleteById:function(e){return b({url:"/goods/".concat(e),method:"delete"})}}),W={data:function(){return{list:[],total:0,pageSize:10,currentPage:1,pojo:{id:null,gName:"",gPrice:null,gStock:null,gType:"",gOrigin:""},searchMap:{gName:"",gType:""},dialogFormVisible:!1,typeOptions:[{idx:1,name:"生活用品"},{idx:2,name:"食品"},{idx:3,name:"服饰"},{idx:4,name:"家电"},{idx:5,name:"数码音像"},{idx:6,name:"艺术/文化"},{idx:7,name:"运动/户外"},{idx:8,name:"教育培训"}],originOptions:[{num:1,name:"河北"},{num:2,name:"河南"},{num:3,name:"山西"},{num:4,name:"山东"},{num:5,name:"湖北"},{num:6,name:"湖南"},{num:7,name:"云南"},{num:8,name:"江西"},{num:9,name:"广东"},{num:10,name:"广西"},{num:11,name:"北京"},{num:12,name:"陕西"},{num:13,name:"西藏"},{num:14,name:"内蒙古"},{num:15,name:"宁夏"},{num:16,name:"新疆"},{num:17,name:"甘肃"},{num:18,name:"江苏"},{num:19,name:"安徽"},{num:20,name:"福建"},{num:21,name:"黑龙江"},{num:22,name:"青海"},{num:23,name:"四川"},{num:24,name:"贵州"},{num:25,name:"上海"},{num:26,name:"浙江"},{num:27,name:"海南"},{num:28,name:"吉林"},{num:29,name:"辽宁"},{num:30,name:"天津"},{num:31,name:"重庆"},{num:32,name:"香港"},{num:33,name:"澳门"},{num:34,name:"台湾"}],rules:{gName:[{required:!0,message:"商品名称不能为空",trigger:"blur"}],gPrice:[{required:!0,message:"定价不能为空",trigger:"blur"}],gStock:[{required:!0,message:"库存量不能为空",trigger:"blur"}],gType:[{required:!0,message:"商品类型不能为空",trigger:"blur"}],gOrigin:[{required:!0,message:"产地不能为空",trigger:"blur"}]}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;U.getList(this.currentPage).then((function(t){var n=t.data;e.list=n.list,e.total=n.total})),console.log("fetchData")},handleSearch:function(){var e=this;U.search(this.searchMap,this.currentPage).then((function(t){var n=t.data;e.list=n.list,e.total=n.total,console.log("按条件搜索成功")}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},respMsg:function(e){this.$message({message:e.message,type:e.flag?"success":"error",duration:1300})},handleAdd:function(){this.dialogFormVisible=!0,this.resetForm("pojoForm"),this.pojo.id=null},addData:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;U.add(t.pojo).then((function(e){var n=e.data;n.flag&&(t.dialogFormVisible=!1,t.fetchData()),t.respMsg(n)}))}))},getGoodsById:function(e){var t=this;U.getById(e).then((function(e){var n=e.data;t.pojo=n}))},handleEdit:function(e){this.resetForm("pojoForm"),this.getGoodsById(e),this.dialogFormVisible=!0},updateData:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;U.update(t.pojo).then((function(e){var n=e.data;n.flag&&(t.fetchData(),t.dialogFormVisible=!1),t.respMsg(n)}))}))},handleDelete:function(e){var t=this;this.$confirm("确认删除这条记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){U.deleteById(e).then((function(e){var n=e.data;n.flag&&t.fetchData(),t.respMsg(n)}))})).catch((function(){})),console.log("handleDelete "+e)},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$nextTick((function(){null===t.searchMap?t.fetchData():t.handleSearch()})),console.log("handleCurrentChange "+this.currentPage)}},filters:{priceFilter:function(e){return"￥"+e}}},X=W,Y=(n("ea0d"),Object(s["a"])(X,Q,R,!1,null,"76c94c0f",null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("订单管理")])},te=[],ne={},oe=Object(s["a"])(ne,ee,te,!1,null,null,null),ae=oe.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("用户管理")])},ie=[],le={},se=Object(s["a"])(le,re,ie,!1,null,null,null),ce=se.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("权限管理")])},me=[],pe={},de=Object(s["a"])(pe,ue,me,!1,null,null,null),fe=de.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("数据统计")])},he=[],ve={},be=Object(s["a"])(ve,ge,he,!1,null,null,null),ye=be.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("访问监控")])},xe=[],we={},je=Object(s["a"])(we,_e,xe,!1,null,null,null),ke=je.exports;o["default"].use(p["a"]);var Oe=[{path:"/login",name:"Login",component:k},{path:"/",component:K,children:[{path:"/goods",component:Z,meta:{title:"商品列表"}}]},{path:"/order",component:K,children:[{path:"/",component:ae,meta:{title:"订单管理"}}]},{path:"/user",component:K,children:[{path:"/",component:ce,meta:{title:"用户管理"}}]},{path:"/authority",component:K,children:[{path:"/",component:fe,meta:{title:"权限管理"}}]},{path:"/statistics",component:K,children:[{path:"/",component:ye,meta:{title:"数据统计"}}]},{path:"/monitor",component:K,children:[{path:"/",component:ke,meta:{title:"访问监控"}}]}],Ce=new p["a"]({mode:"history",base:"/",routes:Oe}),$e=Ce;n("82da");o["default"].use(r.a),o["default"].config.productionTip=!0,console.log("当前为 production 环境"),console.log("http://127.0.0.1"),new o["default"]({router:$e,render:function(e){return e(m)}}).$mount("#app")},"61a2":function(e,t,n){"use strict";var o=n("c850"),a=n.n(o);a.a},"7d51":function(e,t,n){},"82da":function(e,t,n){},"85ec":function(e,t,n){},a467:function(e,t,n){},ab78:function(e,t,n){},c35d:function(e,t,n){"use strict";var o=n("ab78"),a=n.n(o);a.a},c850:function(e,t,n){},d3f6:function(e,t,n){"use strict";var o=n("06e8"),a=n.n(o);a.a},ea0d:function(e,t,n){"use strict";var o=n("a467"),a=n.n(o);a.a}});